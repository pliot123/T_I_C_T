#include <iostream>
#include <vector>
#include <queue>
#include <algorithm>
using namespace std;
vector<int> edge[300001];
bool check[300001];
bool cmp(int a, int b) {
	return a < b;
}
void bfs(int k,int x) {
	queue <int> q;
	vector<int> answer;
	q.push(x);
	check[x] = true; 
	int cnt = 0;
	while (!q.empty()) {
		int size = q.size();
		for (int i = 0; i < size; i++) {
			int now = q.front();
			q.pop();
			if (k == cnt) {
				answer.push_back(now);
				continue;
			}
			for (auto next : edge[now]) {
				if (check[next])continue;
				check[next] = true;
				q.push(next);
			}
		}
		cnt++;
	}
	sort(answer.begin(), answer.end(), cmp);

	if(answer.empty()){
		cout << -1;
	}
	else {
		
		for (int i = 0; i < answer.size(); i++) {
			cout << answer[i] << endl;
		}
	}

}

int main(void) {
	int n, m, k, x;
	cin >> n >> m >> k >> x;
	for (int i = 0; i < m; i++) {
		int from, to;
		cin >> from >> to;
		edge[from].push_back(to);
	}
	bfs(k, x);
	return 0;
}
