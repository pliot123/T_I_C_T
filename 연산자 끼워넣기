#include <iostream>
#include <vector>
#include <math.h>
#include <algorithm>
using namespace std;

int MIN = 987654321;
int MAX = -98754321;
int n;
vector<int> v;
void dfs(int k,int idx,int plus,int minus, int multi, int div) {
    
    if (idx == n - 1) {
        MIN = min(MIN, k);
        MAX = max(MAX, k);
        return;
    }
    if (plus > 0) {
        if (idx == 0) {
            k = v[idx] + v[idx + 1];
        }
        else {
        k = k + v[idx+1];
        }
        dfs(k, idx + 1, plus - 1, minus, multi, div);
    }
    if (minus > 0) {
        if (idx == 0) {
            k = v[idx] - v[idx + 1];
        }
        else {
        k = k - v[idx + 1];
        }
        dfs(k, idx + 1, plus, minus-1, multi, div);
    }
    if (multi > 0) {
        if (idx == 0){
        k = v[idx] * v[idx + 1];
        }
        else {
        k = k * v[idx + 1];
        }
        dfs(k, idx + 1, plus, minus, multi-1, div);
    }
    if (div > 0) {
        if (idx == 0) {
                k = trunc(v[idx] / v[idx+1]);
            }
        else {
            if (k >= 0) {
                k = trunc(k / v[idx + 1]);
            }
            else {
                k = trunc(abs(k) / v[idx + 1]);
                k *= -1;
            }
            
        }
        dfs(k, idx + 1, plus, minus, multi, div - 1);
    }

    
}
int main() {
    
    cin >> n;
    for (int i = 0; i < n; ++i) {
        int input;
        cin >> input;
        v.push_back(input);
    }
    int plus, minus, multi, div;
    cin >> plus >> minus >>multi >> div;
    dfs(0, 0, plus, minus, multi, div);
    cout << MAX << endl;
    cout << MIN << endl;
    return 0;
}
처음에 이렇게 짯는데 계속 실패가 떳다. 백트래킹을 안해서 그런거같은데..움 
그래서 
#include <iostream>
#include <vector>
#include <math.h>
#include <algorithm>
using namespace std;

int MIN = 987654321;
int MAX = -98754321;
int n;
int number[11];
int op[4];
void dfs(int result, int cnt) {
	if (cnt == n - 1) {
		MIN = min(result, MIN);
		MAX = max(result, MAX);
	}

	for (int i = 0; i < 4; ++i) {
		if (op[i] > 0) {
			op[i]--;
			if (i == 0) {
				dfs(result + number[cnt + 1], cnt + 1);
			}
			else if (i == 1) {
				dfs(result - number[cnt + 1], cnt + 1);
			}
			else if (i == 2) {
				dfs(result * number[cnt + 1], cnt + 1);
			}
			else if (i == 3) {
				dfs(result / number[cnt + 1], cnt + 1);
			}
			op[i]++;
		}
	}
}

int main(void) {
	cin >> n;
	for (int i = 0; i < n; ++i) {
		cin >> number[i];
	}

	for (int i = 0; i < 4; i++) {
		cin >> op[i];
	}
	dfs(number[0], 0);
	cout << MAX << endl;
	cout << MIN;
}
이렇게 바꿨다. 로직은 비슷한데 for문에서 차이가 난다.
