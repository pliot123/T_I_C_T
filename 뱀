#include <string>
#include <vector>
#include <queue>
#include <iostream>

int snake[101][101] = { 0 };
int arr[101][101] = { 0 };
using namespace std;
bool check(int arr[101][101], int snake[101][101], int n) {
    for (int i = 1; i <= n; i++) {
        for (int j = 1; j <= n; j++) {
            if (snake[i][j] > 1) {
                    return true;
            }
        }
    }
    return false;
}
int main(){
    int n, k,r,c;
    cin >> n >> k;
    for (int i = 0; i < k; i++) {
        cin >> r >> c;
        arr[r][c] = 1;
    }
    int L, X; char C;
    cin >> L;
    queue<pair<int, char>> dr;
    for (int i = 0; i < L; i++) {
        cin >> X >> C;
        dr.push({ X,C });
    }
    queue<pair<int, int>> q;
    q.push({ 1,1 });
    snake[1][1] = 1;int time = 0;
    r = 1; c = 1; int direction = 1;
    while (1) {
        time++;
        if (r > n || c > n || r<1 || c<1) {
            cout << time-1;
            return time;
        }
        if (direction == 1)
            snake[r][++c] += 1;
        else if (direction == 2)
            snake[++r][c] += 1;
        else if (direction == 3)
            snake[r][--c] += 1;
        else
            snake[--r][c] += 1;
        
        q.push({ r,c });


        if (check(arr, snake, n)) {
            cout << time;
            return time;
        }
        if (!dr.empty()) {
            if (time == dr.front().first) {//방향전환 //동남서북
                if (dr.front().second == 'D')
                    direction++;
                else
                    direction--;

                if (direction == 5)
                    direction = 1;
                else if (direction == 0)
                    direction = 4;
                dr.pop();
            }
        }
        
        if (arr[r][c] == 1) {
            continue;
        }
        else {
            snake[q.front().first][q.front().second] -= 1;
            q.pop();
        }
        if (time > 10000)
            break;
    }
    return 0;

}

맞게 짠거같은데 런타임 에러 (NZEC) 에러가 계속뜨고 도저히 이유를 모르겠다.
그래서 우선 저장해두고 다른 코드를 보려고한다.


#include <string>
#include <vector>
#include <queue>
#include <iostream>
int snake[101][101] = {0};
int arr[101][101] = {0};

using namespace std;

bool check(int arr[101][101], int snake[101][101], int n) {
    for (int i = 1; i <= n; i++) {
        for (int j = 1; j <= n; j++) {
            if (snake[i][j] > 1) {
                    return true;
            }
        }
    }
    return false;
}
int k(){
    int n, k,r,c;
    cin >> n >> k;
    for (int i = 0; i < k; i++) {
        cin >> r >> c;
        arr[r][c] = 1;
    }
    int L, X; char C;
    cin >> L;
    queue<pair<int, char>> dr;
    for (int i = 0; i < L; i++) {
        cin >> X >> C;
        dr.push({ X,C });
    }
    queue<pair<int, int>> q;
    q.push({ 1,1 });
    snake[1][1] = 1;int time = 0;
    r = 1; c = 1; int direction = 1;
    while (1) {
        time++;
        if (r > n || c > n || r< 1 || c<1) {
            cout << time-1;
            return time;
        }
        if (direction == 1)
            snake[r][++c] += 1;
        else if (direction == 2)
            snake[++r][c] += 1;
        else if (direction == 3)
            snake[r][--c] += 1;
        else
            snake[--r][c] += 1;
        // 머리를 전진한 직후 꼬리를 접기 전 꼬리를 물까봐
        if (check(arr, snake, n)) {
            cout << time;
            return time;
        }

        q.push({ r,c });
        if (!dr.empty()) {
            if (time == dr.front().first) {
                if (dr.front().second == 'D')
                    direction++;
                else
                    direction--;

                if (direction == 5)
                    direction = 1;
                else if (direction == 0)
                    direction = 4;
                dr.pop();
            }
        }
       


        if (arr[r][c] == 1) {
            arr[r][c] = 0;
        
            continue;
        }
        else {
            snake[q.front().first][q.front().second] -= 1;
            q.pop();
        }
    }
    
}
int main() {
    k();
    return 0;
}

=써야하는데 == 써서 계속 답이 이상했고, 
사과를 먹어주지않을 때를 고려하는 것도 몰랐다. 그리고 큐 넣는 순서도 좀 더 세세히 따져봐야하는 그런 문제였다.
